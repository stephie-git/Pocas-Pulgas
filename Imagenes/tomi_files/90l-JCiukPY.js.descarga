if (self.CavalryLogger) { CavalryLogger.start_js(["6Ui\/hpU"]); }

__d("CometNotificationsDropdownMenuButton_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"},{defaultValue:!1,kind:"LocalArgument",name:"menuUseEntryPoint"}],kind:"Fragment",metadata:null,name:"CometNotificationsDropdownMenuButton_notification",selections:[{condition:"menuUseEntryPoint",kind:"Condition",passingValue:!1,selections:[{args:[{kind:"Variable",name:"isToast",variableName:"isToast"}],kind:"FragmentSpread",name:"CometNotificationsDropdownMenu_notification"}]},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{condition:"menuUseEntryPoint",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsDropdownMenuContainerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4595399143807487",metadata:{},name:"CometNotificationsDropdownMenuContainerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometNotificationsListItemAttachment_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItemAttachment_notification",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{condition:"isToast",kind:"Condition",passingValue:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"InlineSurveyNotifAttachment",abstractKey:null}]}],storageKey:null}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItem_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometNotificationsListItem_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"isToast",variableName:"isToast"};return{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"hideIcon"},{defaultValue:!1,kind:"LocalArgument",name:"isToast"},{defaultValue:!1,kind:"LocalArgument",name:"menuUseEntryPoint"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_notification",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{args:[a,{kind:"Variable",name:"menuUseEntryPoint",variableName:"menuUseEntryPoint"}],kind:"FragmentSpread",name:"CometNotificationsDropdownMenuButton_notification"},{args:[a],kind:"FragmentSpread",name:"CometNotificationsListItemAttachment_notification"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometNotificationURL_notification"},{alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{condition:"hideIcon",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],type:"Notification",abstractKey:null}}();e.exports=a}),null);
__d("CometNotificationsUpdateSeenStateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:c,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:c,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3454182731283099",metadata:{},name:"CometNotificationsUpdateSeenStateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("getCometNotificationURL_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getCometNotificationURL_notification"};e.exports=a}),null);
__d("useCometNotificationURL_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometNotificationURL_notification",selections:[{kind:"InlineDataFragmentSpread",name:"getCometNotificationURL_notification",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometToastCard.react",["fbt","ix","CometAccessibilityAnnouncement.react","CometCard.react","CometPressable.react","TetraIcon.react","TetraTextPairing.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.accessibilityAnnouncement,e=a.content,f=a.headline,g=a.onCloseClick;a=a.onMouseEnter;return j.jsxs(c("CometCard.react"),{background:"white",dropShadow:2,children:[j.jsxs("div",{className:"jbcpqwzg jq4qci2q cbu4d94t j83agx80 rq0escxv bi1v6m2q l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",onMouseEnter:a,children:[j.jsx("div",{className:"n1l5q3vz",children:j.jsxs("div",{className:"dati1w0a qt6c0cv9 hv4rvrfc jb3vyjys i1fnvgqd j83agx80 bp9cbjyn",children:[j.jsx(c("TetraTextPairing.react"),{headline:f,level:4}),j.jsx(c("CometPressable.react"),{display:"inline",label:h._("Cerrar"),onPress:g,overlayDisabled:!0,children:j.jsx("span",{className:"b73ngqbp taijpn5t rgmg9uty j83agx80 owxd89k7 n3ddgdk9 h2jyy9rg br7hx15l tdjehn4e bp9cbjyn",children:j.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(i("478231"),12),size:12})})})]})}),j.jsx("div",{className:"ecm0bbzt sj5x9vvc ezxwwwxp",role:"grid",children:e})]}),b!=null&&j.jsx(c("CometAccessibilityAnnouncement.react"),{children:b.text},b.id)]})}g["default"]=a}),98);
__d("useNotificationsImpressionLogger",["gkx","react","requireDeferred","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("NotifImpressionEventsFalcoEvent").__setRef("useNotificationsImpressionLogger");function a(a){var b=a.actorId,d=a.loggerContext,e=a.notifId,f=a.trackingData;a=h(function(a){a=a.visibleDuration;var c={notification_data:{duration:String(a),logger_context:d,notif_id:e,user_id:b},ref:"www_tab",tracking:JSON.stringify(f)};i.onReady(function(a){a=a.log;return a(function(){return c})})},[f,d,e,b]);a=c("usePartialViewImpression")({onImpressionEnd:a});return[a,null]}g["default"]=a}),98);
__d("CometNotificationsListItemSeenContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(function(){});g["default"]=b}),98);
__d("CometNotificationsDropdownMenuContainer.entrypoint",["CometNotificationsDropdownMenuContainerQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a={encoded_notif_id:a.encodedNotifId,scale:d("WebPixelRatio").get()};return{queries:{dropdownQueryRef:{parameters:b("CometNotificationsDropdownMenuContainerQuery$Parameters"),variables:a}}}},root:c("JSResourceForInteraction")("CometNotificationsDropdownMenuContainer.react").__setRef("CometNotificationsDropdownMenuContainer.entrypoint")};g["default"]=a}),98);
__d("CometNotificationsDropdownMenuButton.react",["fbt","CometListCellHoverButton.react","CometNotificationsDropdownMenuButton_notification.graphql","CometNotificationsDropdownMenuContainer.entrypoint","CometRelay","JSResourceForInteraction","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("CometNotificationsDropdownMenu.react").__setRef("CometNotificationsDropdownMenuButton.react"),m=c("requireDeferred")("OpenOptionsMenuFalcoEvent").__setRef("CometNotificationsDropdownMenuButton.react");function a(a){var e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometNotificationsDropdownMenuButton_notification.graphql"),a.notification),f=a.userId,g=k(function(){m.onReady(function(a){a=a.log;return a(function(){return{notification_data:{alert_id:e==null?void 0:e.notif_id,logger_context:"www_tab",notif_type:e==null?void 0:e.notif_type,user_id:f},ref:"www_tab"}})})},[e,f]);return(e==null?void 0:e.id_for_entrypoint)==null?j.jsx(c("CometListCellHoverButton.react"),{hidden:a.hidden,label:h._("Opciones para esta notificaci\u00f3n"),onFocusChange:a.onFocusChange,onHoverChange:a.onHoverChange,onMenuStateChange:a.onMenuStateChange,onPress:g,popoverProps:{notification:e},popoverResource:l,popoverTriggerType:"lazy",popoverType:"menu"}):j.jsx(c("CometListCellHoverButton.react"),{entryPointParams:{encodedNotifId:e.id_for_entrypoint},hidden:a.hidden,label:h._("Opciones para esta notificaci\u00f3n"),onFocusChange:a.onFocusChange,onHoverChange:a.onHoverChange,onMenuStateChange:a.onMenuStateChange,onPress:g,popoverEntryPoint:c("CometNotificationsDropdownMenuContainer.entrypoint"),popoverProps:{},popoverTriggerType:"entryPoint",popoverType:"menu"})}g["default"]=a}),98);
__d("CometNotificationsListItemAttachment.react",["CometErrorBoundary.react","CometNotificationsListItemAttachment_notification.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var b=a.date,d=a.notification;a=a.onPress;return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(j,{date:b,notification:d,onPress:a})})}function j(a){var c=a.date,e=a.notification,f=a.onPress;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNotificationsListItemAttachment_notification.graphql"),e);e=a.notif_attachments;if(e==null)return null;a=e.map(function(a,b){return i.jsx(d("CometRelay").MatchContainer,{match:a,props:{date:c,notifAttachments:a,onPress:f}},b)}).filter(Boolean);return a.length===0?null:a}g["default"]=a}),98);
__d("UntruncatedNotificationsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:UntruncatedNotificationsLoggerConfig")}),null);
__d("cometNotificationsListItemIcon",["ix","ImageIconSource","getReactionSVGSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i={app_facebook:h("958818"),app_messenger:h("958823"),app_pages:h("958824"),app_rooms:h("1395467"),arrows_up_down:h("958826"),badge_heart:h("958827"),bar_chart:h("958828"),bookmark:h("958830"),breaking_news:h("958831"),briefcase:h("958832"),cake:h("958833"),calendar:h("958835"),camcorder_live:h("958836"),card:h("1289629"),caution_triangle:h("958837"),circle_3:h("958838"),comment:h("958852"),comment_star:h("958851"),"default":h("958829"),"desktop-mobile":h("1964681"),direct:h("958854"),friend_add:h("958857"),friends:h("958858"),fundraiser:h("958859"),games:h("958821"),group:h("958860"),headphones:h("2007797"),heart_lock:h("1250959"),high_five_hands:h("958861"),instagram_reels:h("1951540"),marketplace:h("894424"),notif_messages_question_live:h("1495236"),"notif-star-tip":h("1970274"),pencil:h("958866"),pencil_checkmark:h("958865"),photo:h("958867"),pin:h("958868"),play_circle:h("958869"),poke:h("958870"),politics:h("958871"),polls:h("958872"),posts:h("958873"),profile_circle:h("958874"),relationship:h("958875"),safety_check:h("958876"),share:h("958877"),shield:h("958878"),shops:h("1686153"),spark_ar:h("1079479"),stories:h("1819883"),tag:h("958882"),topics:h("958883"),watch_tv:h("958885"),water:h("958886")};function j(a){return new(c("ImageIconSource"))(i[a]||i["default"],28,28)}function a(a,b){if(b!=null){b=c("getReactionSVGSource")(b);if(b!=null)return new(c("ImageIconSource"))(b,28,28)}return a!=null?j(a):null}g["default"]=a}),98);
__d("isDevelopersURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)&&a.getSubdomain()==="developers"}g["default"]=a}),98);
__d("getCometNotificationURL",["CometRelay","ConstUriUtils","absoluteToRelative","getCometNotificationURL_notification.graphql","isBusinessURI","isDevelopersURI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getCometNotificationURL_notification.graphql"),a);a=a==null?void 0:a.url;if(a==null)return null;var e=d("ConstUriUtils").getUri(a);return e==null?a:window.location.hostname.startsWith("www.facebook.com")?a:c("isBusinessURI")(e)||c("isDevelopersURI")(e)?a:c("absoluteToRelative")(a)}g["default"]=a}),98);
__d("useCometNotificationURL",["CometRelay","getCometNotificationURL","useCometNotificationURL_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometNotificationURL_notification.graphql"),a);return c("getCometNotificationURL")(a)}g["default"]=a}),98);
__d("useScrollToNotif",["CometRouteMatch","XCometNotificationsControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;a=function(a){var b=d("CometRouteMatch").useCurrentRouteMatcher(d("CometRouteMatch").MatchFunctions.urlMatchFunction),e=d("CometRouteMatch").useHostedRouteMatcher(d("CometRouteMatch").MatchFunctions.urlMatchFunction);e=a!=null?e(a):!1;a=b(c("XCometNotificationsControllerRouteBuilder").buildURL({}).toString());b=h(e&&!a);return[e,b]};g.useScrollToNotif=a}),98);
__d("CometNotificationsListItem.react",["fbt","CometBadge.react","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFocusTableContext","CometNotificationsDropdownMenuButton.react","CometNotificationsListItemAttachment.react","CometNotificationsListItemSeenContext","CometNotificationsListItem_actor.graphql","CometNotificationsListItem_notification.graphql","CometNotificationsTimestamp.react","CometPressable.react","CometRelay","CometTextWithEntitiesRelay.react","FocusWithinHandler.react","JSResourceForInteraction","TetraAccessoryListCell.react","TetraIcon.react","UntruncatedNotificationsTypedLoggerLite","cometNotificationsListItemIcon","mergeRefs","promiseDone","qex","react","requireDeferred","scrollIntoView","stylex","useCometNotificationURL","useCometPreloader","useCometRouterDispatcher","useMenuButtonVisibilityState","useNotificationsImpressionLogger","useScrollToNotif","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useLayoutEffect,p=e.useMemo,aa=e.useRef,ba=c("requireDeferred")("NotifClickEventsFalcoEvent").__setRef("CometNotificationsListItem.react"),q=c("JSResourceForInteraction")("CometNotificationsMarkReadMutation").__setRef("CometNotificationsListItem.react"),ca=0,r={hiddenLabel:{clip:"q45zohi1",clipPath:"g0aa4cga",position:"pmk7jnqg",wordBreak:"dxrwds1f"},listItemContainer:{position:"l9j0dhe7"},pressable:{alignItems:"bp9cbjyn",display:"j83agx80",height:"m7zwrmfr",justifyContent:"taijpn5t",paddingStart:"b3onmgus",width:"odw8uiq3"},spacer:{height:"cyypbtt7",width:"fwizqjfa"}},da={"*":[c("CometBoldedEntityRenderer")]},ea=[c("CometEmoticonTransform")(),c("CometEmojiTransform")()],fa=i!==void 0?i:i=b("CometNotificationsListItem_actor.graphql"),ga=j!==void 0?j:j=b("CometNotificationsListItem_notification.graphql");function a(a){var b=a.actor,e=a.hideMenuButton,f=e===void 0?!1:e;e=a.isFromPageNotification;var g=a.isNotificationsRoute,i=g===void 0?!1:g;g=a.loggerContext;var j=g===void 0?"www_tab":g;g=a.notification;var s=a.onClick,t=a.onClose,u=a.preventLocalNavigation,v=a.replace,w=a.routeTarget,x=a.shouldPrefetch;x=x===void 0?!1:x;var y=a.showSelectedState,ha=y===void 0?!1:y,z=a.trackingData;y=d("CometRelay").useFragment(fa,b);var A=d("CometRelay").useFragment(ga,g),B=c("useCometNotificationURL")(A);a=A.body;b=A.creation_time;var C=A.id;g=A.notif_attachments;var D=A.notif_id,E=A.notif_image,F=A.notif_type,G=A.seen_state,H=A.tracking,I=aa(null),J=y==null?void 0:y.id,K=(y=e)!=null?y:!1;e=babelHelpers["extends"]({navigation_source:"notifications_click"},F!=null?{notif_type:F}:null);y=p(function(){var a;return(a=z)!=null?a:{notif_tracking:H}},[H,z]);var ia={onNavigate:t,passthroughProps:{initialTracePolicy:"comet.notifications",notification_id:(t=D)!=null?t:void 0,notificationTracking:y,notificationType:F,ref:"notification"},prefetchQueries:x,preventLocalNavigation:(t=u)!=null?t:!1,productAttribution:{tap_point:"via_notification"},replace:(x=v)!=null?x:void 0,routeTarget:K?"content":(u=w)!=null?u:void 0,target:Boolean(A.www_url_should_open_in_blank_target)?"_blank":void 0,traceParams:e,url:(t=B)!=null?t:void 0},L=d("CometRelay").useRelayEnvironment(),ja="MAIN_SURFACE",M="unknown",N=c("useCometRouterDispatcher")();v=d("useScrollToNotif").useScrollToNotif(B);var ka=v[0],O=v[1],P=O.current;x=m(c("CometFocusTableContext"));w=x.FocusCell;u=x.FocusRow;var la=(e=w)!=null?e:k.Fragment,ma=(t=u)!=null?t:k.Fragment;o(function(){I.current!=null&&P&&(c("scrollIntoView")(I.current,{behavior:"auto",verticalAlign:"center"}),O.current=!1)},[P,O]);var na=l(function(){C!=null&&J!=null&&(s&&s(),ba.onReady(function(a){a=a.log;return a(function(){var a;return{notification_data:{alert_id:(a=D)!=null?a:"",logger_context:(a=j)!=null?a:"",to_user:J},ref:i?"notifications_route":"www_tab",tracking:JSON.stringify(z)}})}),c("promiseDone")(q.load().then(function(a){return a(L,{input:{is_comet:!0,notif_id:C,source:M}})})))},[J,L,C,s,z,D,j,i]),Q=l(function(){C!=null&&c("promiseDone")(q.load().then(function(a){return a(L,{input:{environment:ja,is_comet:!0,notif_id:C,source:M}})}))},[L,C]),R=a;v=b==null?void 0:b.timestamp;x=E==null?void 0:E.uri;w=c("useMenuButtonVisibilityState")();var oa=w[0];e=w[1];var S=e.setListItemHovered,pa=e.setMenuBtnFocused,qa=e.setMenuBtnHovered,ra=e.setMenuOpened,T=G==="UNSEEN_AND_UNREAD"||G==="SEEN_BUT_UNREAD";u=l(function(){N&&B!=null&&T&&c("qex")._("1590992")&&N.prefetchRouteQueries(B,{})},[N,T,B]);t=c("useCometPreloader")("button",u,u);var U=t[0],V=t[1],sa=l(function(){S(!1),V()},[V,S]),ta=l(function(a){S(!0),U(a)},[U,S]);a=c("useNotificationsImpressionLogger")({actorId:J,loggerContext:j,notifId:D,trackingData:y});var W=a[0],ua=a[1],va=m(c("CometNotificationsListItemSeenContext")),X=c("useVisibilityObserver")({onVisible:function(){va(C)}}),wa=p(function(){if(j==="www_tab"||j==="beeper")return c("mergeRefs")(W,I,X);else return I},[X,j,W]),Y=R==null?void 0:(b=R.text)==null?void 0:b.length;n(function(){Y!=null&&Y>ca&&c("UntruncatedNotificationsTypedLoggerLite").log({length:Y,notification_type:F})},[F,Y]);if(C==null||R==null||x==null||G==null||v==null)return null;E=new Date(v*1e3);var Z=G==="SEEN_AND_READ";e=(w=A.icon_data)==null?void 0:w.reaction_type;t=(u=A.icon_data)==null?void 0:u.glyph_name;y=c("cometNotificationsListItemIcon")(t,e);a=y!=null?{backgroundColor:"transparent",icon:k.jsx(c("TetraIcon.react"),{color:"white",icon:y}),size:28,type:"activityBadge"}:null;var xa=k.jsx(c("CometNotificationsTimestamp.react"),{date:E,seenAndRead:Z}),ya={addOn:a,shape:"circle",size:56,source:{uri:x},type:"profile-photo"},za={override_component:k.jsx(c("CometNotificationsListItemAttachment.react"),{date:E,notification:A,onPress:Q}),type:"designOverride_Notifications_bottomAddOn"};b=A==null?void 0:A.is_hidden;if(b===!0)return null;var $=g.find(function(a){return a.inline_survey!=null})!=null;return k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(ma,{children:k.jsxs("div",{className:c("stylex")(r.listItemContainer),onMouseEnter:ta,onMouseLeave:sa,ref:wa,role:"row",children:[ua,k.jsx(c("TetraAccessoryListCell.react"),{addOnBottom:za,addOnPrimary:ya,addOnSecondary:{addOn:Z?k.jsx("div",{className:c("stylex")(r.spacer)}):k.jsx(c("CometPressable.react"),{expanding:!0,onPress:Q,overlayDisabled:!0,role:"none",testid:void 0,xstyle:r.pressable,children:k.jsx(c("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"},addOnSecondaryVerticalAlign:$?"start":"center",body:k.jsxs(k.Fragment,{children:[Z?null:k.jsx("div",{className:c("stylex")(r.hiddenLabel),children:h._("No le\u00edda")}),k.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:da,textWithEntities:R,transforms:ea})]}),bodyColor:Z?"secondary":"primary",bodyLineLimit:3,linkProps:ia,meta:xa,onPress:na,role:"none",selected:ka&&ha,testid:void 0}),F!=="friend"&&F!=="page_invite"&&!$?k.jsx(la,{children:k.jsx(c("CometNotificationsDropdownMenuButton.react"),{hidden:f||K||!(a&&b)&&!oa,notification:A,onFocusChange:pa,onHoverChange:qa,onMenuStateChange:ra,userId:J})}):null]})})}})}f=k.memo(a);g["default"]=f}),98);
__d("CometNotificationsUpdateSeenStateMutation",["CometNotificationsMutationLogger","CometNotificationsThinClientConnectionHandler","CometNotificationsUpdateSeenStateMutation.graphql","CometRelay","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometNotificationsUpdateSeenStateMutation.graphql");function j(a,b){var c=b[0];if(c==null)return;b=a.get(d("relay-runtime").VIEWER_ID);if(b==null)return;a=d("CometNotificationsThinClientConnectionHandler").getConnection(b,"CometNotificationsList_notifications_page");if(a==null)return;a=a.getLinkedRecords("edges");if(a==null||a.length===0)return;var e=[];a.forEach(function(a){if(a==null)return;a=a.getLinkedRecord("node");if(a==null)return;var b=a.getType();if(b!=="NotifPageNotificationRow"&&b!=="NotifPageCachedNotificationRow")return;b=a.getLinkedRecord("notif");if(b==null)return;e.push(b)});a=e.findIndex(function(a){return a.getValue("id")===c});if(a<0)return;e[a]!=null&&e[a].setValue("SEEN_BUT_UNREAD","seen_state");a=b.getValue("notifications_unseen_count",{environment:"MAIN_SURFACE"});if(a==null)return;a=+a-1;b.setValue(Math.max(0,a),"notifications_unseen_count",{environment:"MAIN_SURFACE"})}function a(a,b,c){var e=function(a){var d=b.input;if(d==null)return;d=d.notif_ids;if(d==null)return;j(a,d);c&&c.updater&&c.updater(a)},f=d("CometNotificationsMutationLogger").notificationMarkAsSeenStart(),g=f.logOnError,h=f.logOnSuccess;return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(){h(),c&&c.onSuccess()},onError:function(a){g(a),c&&c.onError(a)},optimisticUpdater:e,variables:b})}g.CometNotificationsUpdateSeenStateMutation=a;g.mutation=i}),98);