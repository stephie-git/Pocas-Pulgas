if (self.CavalryLogger) { CavalryLogger.start_js(["9j+P3cR"]); }

__d("CometPhotoBackdateButton_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoBackdateButton_photo",selections:[{alias:null,args:null,concreteType:"BackdatedTime",kind:"LinkedField",name:"individual_backdated_time",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_backdate",storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometAlbumUploadItemPhotoBackdateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],b=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAlbumUploadItemPhotoBackdateQuery",selections:[{alias:null,args:b,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoBackdateButton_photo"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAlbumUploadItemPhotoBackdateQuery",selections:[{alias:null,args:b,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:"BackdatedTime",kind:"LinkedField",name:"individual_backdated_time",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_backdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"3789171581198713",metadata:{},name:"CometAlbumUploadItemPhotoBackdateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMediaEditorTagComposerFocusHandler.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;function a(a,b){var c=a.children,d=a.setInputFocused,e=a.setShowLoadingIndicator,f=a.setTypeaheadPressed,g=a.typeaheadPressed;return h.jsx("div",{className:"b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt dlpeemhq kkf49tns tvmbv18p cgat1ltu aahdfvyu i1fnvgqd cbu4d94t j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 t63ysoy8 linmgsc8 hop1g133 opwvks06 cwj9ozl2",onBlur:function(){g||d(!1),e(!1)},onFocus:function(){d(!0)},onMouseDown:function(){f(!0)},onMouseUp:function(){f(!1)},ref:b,children:c})}c=b(a);g["default"]=c}),98);
__d("useCometPhotoEditorCommandHandlers.react",["fbt","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function a(a){var b=a.refCurrent,c=a.typeaheadAvailable,e=a.typeahead,f=a.submitMutation,g=a.submitted,j=a.text,k=a.existingTags;a=i(function(){return{description:h._("Ocultar sugerencias"),handler:function(){b&&b.blur()}}},[b]);var l=i(function(){return!c?void 0:{description:h._("Mover hacia arriba"),handler:function(){e&&e.moveUp()}}},[e,c]),m=i(function(){return!c?void 0:{description:h._("Mover hacia abajo"),handler:function(){e&&e.moveDown()}}},[e,c]),n=i(function(){return!c?void 0:{description:h._("Confirmar"),handler:function(){e!=null&&e.hasSelection()&&e.select()}}},[e,c]),o=i(function(){return{description:h._("Confirmar"),handler:function(){if(e==null){!g&&j!=null&&j.length!==0&&f({name:j});return}if(e.hasSelection())e&&e.select();else if(!g&&j!=null&&j.length!==0){var a;if(((a=k)!=null?a:[]).includes(j)){d("cometPushToast").cometPushSimpleToast(h._("Esta p\u00e1gina o usuario ya se han etiquetado en esta foto."),4e3);return}f({name:j})}}}},[k,f,g,j,e]);o={downCommand:m,enterCommand:o,escCommand:a,tabCommand:n,upCommand:l};m==null&&delete o.downCommand;l==null&&delete o.upCommand;n==null&&delete o.tabCommand;return o}g["default"]=a}),98);
__d("CometMediaEditorTagComposer.react",["fbt","ix","BaseContextualLayerOrientationContext","CometInputWithCommands.react","CometMediaEditorTagComposerFocusHandler.react","CometMediaViewerMentionsTypeaheadContextualLayer.react","CometMediaViewerMentionsTypeaheadListItem.react","CometMentionsA11yContext","CometTextInputWithIcon.react","FeedComposerCometMentionsTypeaheadEntry","MediaEditorViewStateContext","cometPushToast","emptyFunction","fbicon","react","recoverableViolation","unrecoverableViolation","useCometMediaViewerMentionsDataSourceResolver","useCometPhotoEditorCommandHandlers.react","useMergeRefs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");e=b.forwardRef;var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useLayoutEffect,o=b.useRef,p=b.useState;function a(a,b){var e=a.addTag,f=a.existingTags,g=a.height,q=a.inputRef,r=a.onSubmitted,s=a.repositionDropdown,t=a.width,u=a.xPos,v=a.yPos;a=p(!1);var w=a[0],x=a[1];a=p(!1);var y=a[0],z=a[1];a=p(!1);var A=a[0],B=a[1];a=p(!0);var C=a[0];a=a[1];var D=l(c("MediaEditorViewStateContext")),E=l(c("CometMentionsA11yContext")),F=E||c("emptyFunction");E==null&&c("recoverableViolation")("a11y context is not available","comet_ax");var G=o(null);E=o(null);var H=l(c("BaseContextualLayerOrientationContext")),I=H.position,J=o(I);n(function(){J.current=I},[I]);m(function(){if(G!=null){var a=G.current;a!=null&&a.focus()}},[G]);H=p("");var K=H[0],L=H[1];H=k(function(){return G.current},[G]);H=H();var M=k(function(a){L(a.target.value),s&&s()},[s]),N=k(function(a){a={source:"manual",taggee:a,x:u/t*100,y:v/g*100};e(a);x(!0);r!=null&&r()},[u,t,v,g,e,r]),O=H!=null&&y;O=c("useCometPhotoEditorCommandHandlers.react")({existingTags:f,refCurrent:H,submitMutation:N,submitted:w,text:K,typeahead:E.current,typeaheadAvailable:O});var P=O.downCommand,Q=O.enterCommand,R=O.escCommand,S=O.tabCommand;O=O.upCommand;var T=k(function(a){if(!w){var b;if(((b=f)!=null?b:[]).map(function(a){return(a=a.taggee)==null?void 0:a.id}).includes(a.getKey())){d("cometPushToast").cometPushSimpleToast(h._("Esta p\u00e1gina o usuario ya se han etiquetado en esta foto."),4e3);return}b=a.getKey();var c=a.getLabel();a=a.getPhotoURI();N({id:b,image_uri:a,name:c})}z(!1);B(!1);L("")},[f,N,w]),U=[];D.topUserTagSuggestions!=null&&(U=D.topUserTagSuggestions.reduce(function(a,b){if(b!=null){var d=b.userFBID,e=b.userName;b=b.profilePictureUri||"";a.push(new(c("FeedComposerCometMentionsTypeaheadEntry"))({data:{id:d,name:e,photoURI:b},type:"SUGGESTION"}))}return a},[]));D=c("useCometMediaViewerMentionsDataSourceResolver")("");D=D(K);var V=D.dataSource;D=D.searchResult;if(V==null)throw c("unrecoverableViolation")("CometMediaEditorTagComposer strategy resolver returned no dataSource","comet_composer");if(V==null||D==null)throw c("unrecoverableViolation")("CometMediaViewerTagComposer strategy resolver returned no dataSource","comet_ui");var W=J.current;H=H!=null&&y?j.jsx(c("CometMediaViewerMentionsTypeaheadContextualLayer.react"),{ariaProps:{role:"listbox"},dataSource:V,injectedEntries:U,onAriaChange:F,onResultsLoaded:s,onSelectedEntry:T,query:D.matchingString,ref:E,showLoadingIndicator:W!==I?!1:C,viewItemStrategyRenderer:c("CometMediaViewerMentionsTypeaheadListItem.react")},"mentions-typehaead"):null;return j.jsxs(c("CometMediaEditorTagComposerFocusHandler.react"),{ref:b,setInputFocused:z,setShowLoadingIndicator:a,setTypeaheadPressed:B,typeaheadPressed:A,children:[I==="above"?H:null,j.jsx(c("CometInputWithCommands.react"),{down:P,enter:Q,esc:R,tab:S,up:O,children:j.jsx(c("CometTextInputWithIcon.react"),{autoComplete:"off",disabled:w,icon:d("fbicon")._(i("491282"),16),iconColor:"tertiary",label:h._("Cuadro de entrada de etiquetado"),onChange:M,placeholder:h._("Escribe un nombre"),ref:c("useMergeRefs")(q,G),type:"text",value:K})}),I==="below"?H:null]})}f=e(a);g["default"]=f}),98);
__d("CometPhotoAlbumGridItem.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={actions:{end:"oqnctjl6",position:"pmk7jnqg"},bottom:{backgroundColor:"cwj9ozl2",borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"sbcfpzgs"},root:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",position:"l9j0dhe7"},sideState:{position:"pmk7jnqg",start:"ax37mqq2"},top:{alignItems:"bp9cbjyn",backgroundColor:"tqsryivl",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e",display:"j83agx80",flexDirection:"cbu4d94t",height:"i6mlhoon",justifyContent:"taijpn5t",width:"k4urcfbm"},topBar:{end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"c0p38np4"}};function a(a){var b=a.bottom,d=a.sideActions,e=a.sideState,f=a.top;a=a.xstyle;return h.jsxs("div",{className:c("stylex")(i.root,a),children:[h.jsxs("div",{className:c("stylex")(i.top),children:[f,h.jsxs("div",{className:c("stylex")(i.topBar),children:[h.jsx("div",{className:c("stylex")(i.actions),children:d}),h.jsx("div",{className:c("stylex")(i.sideState),children:e})]})]}),h.jsx("div",{className:c("stylex")(i.bottom),children:b})]})}g["default"]=a}),98);
__d("CometPhotoAlbumGridItemBeingTaggedContext.react",["react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");f=e.createContext;var i=e.useContext,j=e.useState,k=f([null,function(){c("recoverableViolation")("Cannot use CometPhotoAlbumGridItemBeingTaggedContext without a provider","comet_composer")}]);function a(a){a=a.children;return h.jsx(k.Provider,{value:j(null),children:a})}function b(){return i(k)}g.CometPhotoAlbumGridItemBeingTaggedProvider=a;g.useCometPhotoAlbumGridItemBeingTagged=b}),98);
__d("CometPhotoAlbumGridItemUIActionPlaceholder.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("span",{className:"odw8uiq3 jnigpg78 q9uorilb"})}g["default"]=a}),98);
__d("CometPhotoAlbumGridItemUIAction.react",["CometPhotoAlbumGridItemUIActionPlaceholder.react","CometPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{alignItems:"bp9cbjyn",display:"j83agx80",marginBottom:"jadejhlu",marginEnd:"fv0vnmcu",marginStart:"ggphbty4",paddingTop:"linoseic",paddingBottom:"pby63qed"}};function a(a){var b=a.children,d=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","onPress"]);return b==null?h.jsx(c("CometPhotoAlbumGridItemUIActionPlaceholder.react"),{}):d?h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a,{onPress:d,overlayOffset:3,overlayRadius:8,xstyle:i.icon,children:b})):h.jsx("span",{className:c("stylex")(i.icon),children:b})}g["default"]=a}),98);
__d("CometPhotoAlbumGridItemUIActionIcon.react",["TetraIcon.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.count;b=b===void 0?0:b;a=a.icon;return b===0?h.jsx(c("TetraIcon.react"),{color:"primary",icon:a}):h.jsxs(c("TetraText.react"),{color:"highlight",type:"headlineEmphasized3",children:[h.jsx(c("TetraIcon.react"),{color:"highlight",icon:a}),h.jsx("span",{className:"pcp91wgn",children:b})]})}g["default"]=a}),98);
__d("CometPhotoAlbumGridItemUIActions.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"hyh9befq n8tt0mok j83agx80",children:a})}g["default"]=a}),98);
__d("CometPhotoBackdateButton.react",["fbt","ix","CometLazyDialogTrigger.react","CometPhotoAlbumGridItemUIAction.react","CometPhotoBackdateButton_photo.graphql","CometRelay","CometTooltip.react","JSResourceForInteraction","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=c("JSResourceForInteraction")("PhotosCometBackdateDialog.react").__setRef("CometPhotoBackdateButton.react");function a(a){var e=a.photo$key;a=a.photoID;e=d("CometRelay").useFragment(j!==void 0?j:j=b("CometPhotoBackdateButton_photo.graphql"),e);var f=e==null?void 0:e.can_backdate;if(f!==!0)return null;var g=e==null?void 0:(f=e.individual_backdated_time)==null?void 0:f.time;e=Date.now()/1e3;var m=new Date((g!=null?g:e)*1e3);return k.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{backdatedTime:g,creationTime:e,photoID:a},dialogResource:l,children:function(a){return k.jsx(c("CometTooltip.react"),{tooltip:m.toLocaleString(),children:k.jsx(c("CometPhotoAlbumGridItemUIAction.react"),{"aria-label":h._("Editar fecha"),onPress:a,children:k.jsx(c("TetraIcon.react"),{color:g!=null?"highlight":"primary",icon:d("fbicon")._(i("478793"),16)})})})}})}g["default"]=a}),98);
__d("useCometPhotoTag",["CometPhotoTaggingConstants","adjustFaceboxPosition","react","useInvalidNumberThrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function j(a,b){return b==null||a==null?!1:a.contains(b)}function a(a){var b=a.containerElement,e=a.imageElement,f=a.isEnabled,g=f===void 0?!1:f;f=a.renderScale;f=f===void 0?1:f;var k=a.tagBoxSize,l=a.taggerElement;a=i(null);var m=a[0],n=a[1],o=k*f;c("useInvalidNumberThrowsViolation")(o,'Scaled tagBoxSize is not a valid number: "'+o+'"');h(function(){g||n(null)},[g]);h(function(){if(m!=null){var a=function(){return n(null)};window.addEventListener("resize",a);return function(){return window.removeEventListener("resize",a)}}},[m]);h(function(){if(m!=null){var a=function(a){a=j(l,a.target);a||n(null);return!a};window.addEventListener("mousedown",a);return function(){window.removeEventListener("mousedown",a)}}},[m,l]);a=function(a){if(e!=null&&b!=null){var f=e.getBoundingClientRect(),g=f.height,h=f.left,i=f.top;f=f.width;var j=b.getBoundingClientRect(),k=j.left;j=j.top;var l=o+2*d("CometPhotoTaggingConstants").BOX_BORDER_SIZE,m=c("adjustFaceboxPosition")({boxSize:l,imageDimension:f,originalPos:a.clientX-h-l/2});a=c("adjustFaceboxPosition")({boxSize:l,imageDimension:g,originalPos:a.clientY-i-l/2});n({imageHeight:g,imageWidth:f,offsetX:h-k,offsetY:i-j,xPos:m,yPos:a})}};return{onClear:function(){return n(null)},onTrigger:a,photoPosition:m,tagBoxSize:o}}g["default"]=a}),98);
__d("CometAlbumMediaGrid.react",["CometDraggableGrid.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("gkx")("1745416"),j=500,k=300;function a(a){var b=a.onReorder;a=a.renderedItems;return h.jsx("div",{className:c("stylex").dedupe({"height-1":"mqzoxkkh","overflow-y-1":"eg9m0zos","padding-end-1":"d1544ag0","padding-start-1":"tw6a2znq","padding-top-1":"cxgpxx05","padding-bottom-1":"sj5x9vvc"},i?{"height-1":"bybyno50"}:null),"data-testid":void 0,children:h.jsx(c("CometDraggableGrid.react"),{columnMaxWidth:j,columnMinWidth:k,expanded:!0,items:a,minItems:a.length+12,onReorder:b})})}g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentDescription.react",["fbt","CometFormTextArea.react","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b,d=a.attachment,e=a.mediaIndex,f=c("useComposerViewStateDispatcher")();a=d.state;a=a!=="PREEXISTING"&&a!=="UPLOADED";b=(d.state==="PREEXISTING"||d.state==="UPLOADED")&&(d.fileType==="PHOTO"||d.fileType==="VIDEO")?(b=d.data)==null?void 0:(b=b.message)==null?void 0:b.text:null;var g=j(function(a){if(d.fileType==="PHOTO"&&d.state==="UPLOADED"){var b=babelHelpers["extends"]({},d.data,{message:{text:a}});f({index:e,media:babelHelpers["extends"]({},d,{data:b}),type:"SAVE_MEDIA_EDITS"})}else if(d.fileType==="VIDEO"&&d.state==="UPLOADED"){b=babelHelpers["extends"]({},d.data,{message:{text:a}});f({index:e,media:babelHelpers["extends"]({},d,{data:b}),type:"SAVE_MEDIA_EDITS"})}},[d,f,e]);return i.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",draggable:!1,children:i.jsx(c("CometFormTextArea.react"),{disabled:a,label:h._("Descripci\u00f3n (opcional)"),minRows:2,onValueChange:g,value:(a=b)!=null?a:""})})}g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentLocation.react",["fbt","ix","CometPhotoAlbumGridItemUIAction.react","CometTooltip.react","JSResourceForInteraction","TetraIcon.react","composerMediaAttachmentReducer","fbicon","react","useCometLazyDialog","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("CometPhotoAlbumLocationDialog.react").__setRef("CometAlbumUploadItemAttachmentLocation.react");function a(a){var b=a.attachment,e=a.mediaIndex;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var f=c("useComposerViewStateDispatcher")(),g=b.locationTag;a=c("useCometLazyDialog")(l);var m=a[0],n=k(function(a,c){f({index:e,media:babelHelpers["extends"]({},b,{locationTag:a}),type:"SAVE_MEDIA_EDITS"}),c&&c()},[b,f,e]);a=k(function(){m({onPressEntry:n,placeID:g==null?void 0:g.id})},[n,g,m]);var o=g!=null;return j.jsx(c("CometTooltip.react"),{tooltip:g!=null?g.name:void 0,children:j.jsx(c("CometPhotoAlbumGridItemUIAction.react"),{"aria-label":o?h._("Editar ubicaci\u00f3n"):h._("A\u00f1adir lugar"),onPress:a,children:j.jsx(c("TetraIcon.react"),{color:o?"highlight":"primary",icon:d("fbicon")._(i("481941"),16)})})})}g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentPhotoTagger.react",["fbt","CometImage.react","CometMediaEditorTagComposer.react","CometPhotoAlbumGridItemBeingTaggedContext.react","CometPhotoEditorTagContextualRectangle.react","CometPhotoTaggingConstants","CometPressable.react","CometTooltip.react","react","useCometPhotoTag","useContextualTagBoxReposition"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState,l={image:{height:"idiwt2bm",maxHeight:"nwf6jgls",maxWidth:"d2edcug0",width:"dbpd2lw6"},imageContainer:{display:"j83agx80",justifyContent:"taijpn5t",maxHeight:"nwf6jgls",position:"l9j0dhe7"}};function a(a){var b,e=a.alt,f=a.height,g=a.imageURL,m=a.loading,n=a.onApplyTag,o=a.onError,p=a.tags,q=a.width;a=k(null);var r=a[0];a=a[1];var s=k(null),t=s[0];s=s[1];var u=k(null),v=u[0];u=u[1];var w=d("CometPhotoAlbumGridItemBeingTaggedContext.react").useCometPhotoAlbumGridItemBeingTagged(),x=w[0],y=w[1];w=j(function(){if(r instanceof HTMLImageElement){var a=r.height,b=r.width;if(f==null||q==null||f===0||q===0)return 1;b=Math.min(q,b)/q;a=Math.min(f,a)/f;return Math.min(a,b)}return 1},[f,r,q]);v=c("useCometPhotoTag")({containerElement:v,imageElement:r,isEnabled:x===g,renderScale:w,tagBoxSize:d("CometPhotoTaggingConstants").TAGGING_BOX_SIZE,taggerElement:t});var z=v.onClear,A=v.onTrigger;x=v.photoPosition;w=v.tagBoxSize;t=x!=null;v=function(a){y(g),A(a)};var B=c("useContextualTagBoxReposition")(),C=B.ref;B=B.reposition;var D=h._("Haz clic en cualquier parte para etiquetar a personas"),E=function(a){n(a),z()};b=(b=x)!=null?b:{};var F=b.offsetX,G=b.offsetY,H=b.xPos;b=b.yPos;F=H+F;G=b+G;return i.jsx(c("CometTooltip.react"),{align:"middle",position:"above",tooltip:t?null:D,children:i.jsxs(c("CometPressable.react"),{"aria-label":D,disabled:t,onPress:v,ref:u,testid:void 0,xstyle:l.imageContainer,children:[i.jsx(c("CometImage.react"),{alt:e,draggable:!1,loading:m,onError:o,ref:a,src:g,xstyle:l.image}),x!=null&&i.jsx(c("CometPhotoEditorTagContextualRectangle.react"),{onPress:z,ref:C,tagBoxHeight:w,tagBoxWidth:w,xPos:F,yPos:G,children:i.jsx(c("CometMediaEditorTagComposer.react"),{addTag:E,existingTags:p,height:x.imageHeight,ref:s,repositionDropdown:B,width:x.imageWidth,xPos:H,yPos:b})})]})})}g["default"]=a}),98);
__d("CometAlbumUploadPreview.react",["CometImage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={image:{height:"idiwt2bm",maxHeight:"nwf6jgls",maxWidth:"d2edcug0",width:"dbpd2lw6"},imageContainer:{display:"j83agx80",justifyContent:"taijpn5t",maxHeight:"nwf6jgls",position:"l9j0dhe7"}};function a(a){var b=a.alt,d=a.imageURL,e=a.loading;a=a.onError;return h.jsx("div",{className:c("stylex")(i.imageContainer),children:h.jsx(c("CometImage.react"),{alt:b,draggable:!1,loading:e,onError:a,src:d,xstyle:i.image})})}g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentPhoto.react",["CollageItemFallback.react","CometAlbumUploadItemAttachmentPhotoTagger.react","CometAlbumUploadPreview.react","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.attachment,d=a.mediaIndex;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var e=c("useComposerViewStateDispatcher")(),f=b.data;a=b.file;var g=b.fileObjectURL,k=b.fileType,l=b.height,m=b.width;a=a.name;var n=i(function(){return e({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},[b,e]),o=j(function(){if(b.useCDNPreview===!0&&b.uploadedImageURL!=null)return b.uploadedImageURL;return g!=null&&b.useCDNPreview!==!0?g:null},[b,g]);if(o==null)return h.jsx("div",{className:"k4urcfbm datstx6m",children:h.jsx(c("CollageItemFallback.react"),{fileType:k,filename:a})});if(c("CometAlbumUploadItemAttachmentPhotoTagger.react")&&b.state==="UPLOADED"){k=f.tags;var p=k!=null?k.filter(Boolean):[];k=function(a){e({index:d,media:babelHelpers["extends"]({},b,{data:babelHelpers["extends"]({},f,{tags:[].concat(p,[a])})}),type:"SAVE_MEDIA_EDITS"})};return h.jsx(c("CometAlbumUploadItemAttachmentPhotoTagger.react"),{alt:a,height:l,imageURL:o,loading:"lazy",onApplyTag:k,onError:n,tags:p,width:m})}return h.jsx(c("CometAlbumUploadPreview.react"),{alt:a,imageURL:o,loading:"lazy",onError:n})}g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentTags.react",["fbt","ix","CometPhotoAlbumGridItemUIAction.react","CometPhotoAlbumGridItemUIActionIcon.react","JSResourceForInteraction","fbicon","react","useCometLazyDialog","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("CometPhotoAlbumTagsDialog.react").__setRef("CometAlbumUploadItemAttachmentTags.react");function a(a){var b=a.attachment,e=a.mediaIndex,f=c("useComposerViewStateDispatcher")(),g=b.data,m=b.data.tags;a=((a=m)!=null?a:[]).length;var n=c("useCometLazyDialog")(l),o=n[0],p=k(function(a){f({index:e,media:babelHelpers["extends"]({},b,{data:babelHelpers["extends"]({},g,{tags:a})}),type:"SAVE_MEDIA_EDITS"})},[b,g,f,e]);n=k(function(){o({onChange:p,tags:m})},[p,o,m]);return j.jsx(c("CometPhotoAlbumGridItemUIAction.react"),{"aria-label":h._("Etiquetar amigos"),onPress:a===0?void 0:n,children:j.jsx(c("CometPhotoAlbumGridItemUIActionIcon.react"),{count:a,icon:d("fbicon")._(i("502471"),16)})})}g["default"]=a}),98);
__d("CometAlbumUploadItemPhotoBackdate.react",["CometAlbumUploadItemPhotoBackdateQuery.graphql","CometPhotoBackdateButton.react","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.photoID;var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometAlbumUploadItemPhotoBackdateQuery.graphql"),{id:a});return i.jsx(c("CometPhotoBackdateButton.react"),{photo$key:e.photo,photoID:a})}g["default"]=a}),98);
__d("CometAlbumUploadItemDeleteButton.react",["fbt","ix","TetraCircleButton.react","cometIsMimeTypeForMedia","fbicon","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.attachment,e=c("useComposerViewStateDispatcher")();a=k(function(){e({attachment:b,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})},[b,e]);return j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478232"),16),label:d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(b==null?void 0:b.fileType)?h._("Eliminar foto"):h._("Eliminar v\u00eddeo"),onPress:a,size:32,type:"dark-overlay"})}g["default"]=a}),98);
__d("CometAlbumUploadItemSideActions.react",["fbt","ix","CometAlbumUploadItemDeleteButton.react","CometLazyPopoverTrigger.react","JSResourceForInteraction","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("CometAlbumUploadItemMenu.react").__setRef("CometAlbumUploadItemSideActions.react");function a(a){a=a.attachment;return a.fileType==="PHOTO"&&a.state==="UPLOADED"?j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{attachment:a},popoverResource:k,preloadTrigger:"button",children:function(a,b,e,f,g,k){return j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("484386"),16),label:h._("M\u00e1s"),onHoverIn:f,onHoverOut:g,onPress:b,onPressIn:k,ref:a,size:32,testid:void 0,type:"dark-overlay"})}}):j.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:a})}g["default"]=a}),98);
__d("CometAlbumUploadItemAttachment.react",["ix","CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemAttachmentLocation.react","CometAlbumUploadItemAttachmentPhoto.react","CometAlbumUploadItemAttachmentTags.react","CometAlbumUploadItemPhotoBackdate.react","CometAlbumUploadItemSideActions.react","CometErrorBoundary.react","CometPhotoAlbumGridItem.react","CometPhotoAlbumGridItemUIActions.react","CometPlaceholder.react","TetraIcon.react","cr:1883901","deferredLoadComponent","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("CometLocalVideoFileThumbnailSuspense.react").__setRef("CometAlbumUploadItemAttachment.react"));function a(a){var e=a.attachment,f=a.children;a=a.mediaIndex;var g=e.file;return i.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:i.jsxs(i.Fragment,{children:[i.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:e,mediaIndex:a}),e.fileType==="PHOTO"&&e.state==="UPLOADED"&&(c("CometAlbumUploadItemAttachmentTags.react")!=null||c("CometAlbumUploadItemAttachmentLocation.react")!=null)&&i.jsxs(c("CometPhotoAlbumGridItemUIActions.react"),{children:[c("CometAlbumUploadItemAttachmentTags.react")&&i.jsx(c("CometAlbumUploadItemAttachmentTags.react"),{attachment:e,mediaIndex:a}),c("CometAlbumUploadItemAttachmentLocation.react")?i.jsx(c("CometAlbumUploadItemAttachmentLocation.react"),{attachment:e,mediaIndex:a}):null,e.entID!=null?i.jsx(c("CometAlbumUploadItemPhotoBackdate.react"),{photoID:e.entID}):null]})]}),sideActions:i.jsx(c("CometAlbumUploadItemSideActions.react"),{attachment:e}),sideState:b("cr:1883901")!=null?i.jsx(b("cr:1883901"),{attachment:e}):void 0,top:i.jsxs(i.Fragment,{children:[e.fileType==="PHOTO"?i.jsx(c("CometAlbumUploadItemAttachmentPhoto.react"),{attachment:e,mediaIndex:a}):i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(h("1183332"),32)})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{file:g,height:100,width:100})})}),f]})})}g["default"]=a}),98);
__d("CometAlbumUploadItem.react",["CometAlbumUploadItemAttachment.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("CometAlbumUploadItemFailedAttachment.react").__setRef("CometAlbumUploadItem.react")),j=c("deferredLoadComponent")(c("requireDeferred")("CometAlbumUploadItemPreexistingAttachment.react").__setRef("CometAlbumUploadItem.react"));function a(a){var b=a.attachment;a=a.mediaIndex;switch(b.state){case"PREEXISTING":return h.jsx(j,{attachment:b,mediaIndex:a});case"NEW":case"QUEUED":case"UPLOADING":case"UPLOADED":return b.file!=null?h.jsx(c("CometAlbumUploadItemAttachment.react"),{attachment:b,mediaIndex:a,children:b.state==="UPLOADED"?null:h.jsx("div",{className:"kr520xx4 pmk7jnqg datstx6m n7fi1qx3 ms7hmo2b",style:{width:(1-(b.percentComplete||0))*100+"%"}})}):null;case"FAILED":return h.jsx(i,{attachment:b,mediaIndex:a})}return null}g["default"]=a}),98);
__d("CometAlbumMediaAttachmentArea.react",["CometAlbumMediaAttachmentNullState.react","CometAlbumMediaGrid.react","CometAlbumUploadItem.react","CometComposerHeadlessMediaUploader.react","CometComposerMediaDropTarget.react","CometPhotoAlbumGridItemBeingTaggedContext.react","CometRouteRenderType","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer","useFileDragEvents","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b,e=a.disableVideo,f=a.mediaAttachments;a=a.mediaUploadLoggingMetadata;var g=d("CometRouteRenderType").useIsPushView();c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var j=c("useComposerViewStateDispatcher")();i(function(){return function(){j({type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"})}},[j]);var k=(b=f==null?void 0:f.length)!=null?b:0;b=Array.from(Array(k+12)).map(function(a,b){return b<k?h.jsx(c("CometAlbumUploadItem.react"),{attachment:((a=f)!=null?a:[])[b],mediaIndex:b},b):h.jsx("div",{},b)});var l=function(a,b,c){j({sourceIndex:b,targetIndex:c,type:"REORDER_MEDIA_ATTACHMENT_ITEM"})},m=c("useFileDragEvents")(function(){return!1});return h.jsxs(c("CometComposerMediaDropTarget.react"),{disableVideo:e,children:[h.jsx(c("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:a}),h.jsx("div",{className:g?"cb02d2ww eip75gnj cddn0xzi":""}),k===0?!m&&h.jsx(c("CometAlbumMediaAttachmentNullState.react"),{}):h.jsx(d("CometPhotoAlbumGridItemBeingTaggedContext.react").CometPhotoAlbumGridItemBeingTaggedProvider,{children:h.jsx(c("CometAlbumMediaGrid.react"),{onReorder:l,renderedItems:b})})]})}b=c("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments}});g["default"]=b}),98);
__d("massagePrivacyIfSharedAlbum",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return!b?b:a?babelHelpers["extends"]({},b,{allow:[],deny:[]}):babelHelpers["extends"]({},b)}f["default"]=a}),66);
__d("composerAlbumCreateAudienceTransform",["massagePrivacyIfSharedAlbum","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;e=(e=a.albumData)==null?void 0:e.albumPrivacy;a=(((a=a.albumData)==null?void 0:a.albumContributors)||[]).length>0;a=c("massagePrivacyIfSharedAlbum")(a,e);if(a==null)throw c("unrecoverableViolation")("Trying to render composer with no privacy scope","comet_composer");d(babelHelpers["extends"]({},b,{privacy:a}))}g["default"]=a}),98);
__d("composerAlbumCreateContributorsTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=(a=a.albumData)==null?void 0:a.albumContributors)!=null?a:[];a=a.map(function(a){return a.getKey()});c(babelHelpers["extends"]({},b,{contributors:a}))}f["default"]=a}),66);
__d("composerAlbumCreateDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumDescription;a==null?c(b):c(babelHelpers["extends"]({},b,{description:a}))}f["default"]=a}),66);
__d("composerAlbumCreateTitleTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumTitle;a==null?c(b):c(babelHelpers["extends"]({},b,{title:a}))}f["default"]=a}),66);
__d("CometAlbumUploadItemFailedAttachment.react",["CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemDeleteButton.react","CometPhotoAlbumGridItem.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={failed:{borderTopColor:"jw3uvs1e",borderEndColor:"hmw3o7ox",borderBottomColor:"ku5f423u",borderStartColor:"a64ryyup",height:"i6mlhoon"}};function a(a){var b=a.attachment;a=a.mediaIndex;return h.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:h.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:b,mediaIndex:a}),sideActions:h.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:b}),top:h.jsxs(h.Fragment,{children:[b.file.name,b.error!=null?h.jsxs(h.Fragment,{children:[h.jsx("br",{}),h.jsx(c("TetraText.react"),{color:"negative",type:"body4",children:b.error})]}):null]}),xstyle:i.failed})}g["default"]=a}),98);
__d("CometAlbumUploadItemPreexistingAttachment.react",["CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemDeleteButton.react","CometAlbumUploadPreview.react","CometPhotoAlbumGridItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment;a=a.mediaIndex;return h.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:h.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:b,mediaIndex:a}),sideActions:h.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:b}),top:h.jsx(c("CometAlbumUploadPreview.react"),{imageURL:b.fileType==="VIDEO"?b.imageURL:b.url})})}g["default"]=a}),98);
__d("composerAlbumMediaAttachmentTransform",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b,c=a.data;a=a.locationTag;var d=c.id,e=c.tags;d={id:d};if(((b=c.message)==null?void 0:b.text)!=null){d.message={text:(b=c.message)==null?void 0:b.text}}a!=null&&(d.location_tag={place_id:a.id});Array.isArray(e)&&e.length>0&&(d.tags=e.filter(Boolean).map(function(a){var b=a.taggee;a=babelHelpers.objectWithoutPropertiesLoose(a,["taggee"]);return babelHelpers["extends"]({},a,{taggee:{id:b.id,metadata:{product_tag_type:b==null?void 0:(a=b.metadata)==null?void 0:a.product_tag_type}}})}));return d}function h(a){var b;a=a.data;var c=a.id;c={id:c};if(((b=a.message)==null?void 0:b.text)!=null){c.message={text:(b=a.message)==null?void 0:b.text}}return c}function i(a){if(a.fileType==="PHOTO")return{photo:g(a)};else if(a.fileType==="VIDEO")return{video:h(a)}}function a(a,b,c){a.mediaAttachments==null?c(b):c(babelHelpers["extends"]({},b,{attachments:a.mediaAttachments.map(function(a){return a.state==="UPLOADED"||a.state==="PREEXISTING"?i(a):null}).filter(Boolean)}))}f["default"]=a}),66);
__d("composerAlbumStoryDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d,e;d=(d=a.albumData)==null?void 0:d.albumDescription;e=(e=a.albumData)==null?void 0:e.albumID;a=(a=a.mediaAttachments)!=null?a:[];d==null||e!=null&&a.length<=1?c(b):c(babelHelpers["extends"]({},b,{message:{text:d}}))}f["default"]=a}),66);