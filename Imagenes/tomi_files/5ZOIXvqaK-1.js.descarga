if (self.CavalryLogger) { CavalryLogger.start_js(["o6YkX15"]); }

__d("InstreamVideoAdBreaksPlayer_adBreaks$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"instream_placement",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"InstreamVideoAdBreaksPlayer_adBreaks$normalization",selections:[{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"mid_rolls",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"time_offset_in_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"pre_roll",plural:!1,selections:[a,b],storageKey:null}]}}();e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("InstreamVideoAdBreaksPlayerDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferred")("InstreamVideoAdBreaksPlayer.react").__setRef("InstreamVideoAdBreaksPlayerDeferred.react"));g["default"]=a}),98);
__d("ShakaConstants",[],(function(a,b,c,d,e,f){a={abort_loading_delay:2e4,abr_abort_on_zero_stream_progress_below_threshold:-1,abr_abort_when_fetch_estimate_exceeds_buffer_factor:0,abr_abort_when_fetch_estimate_exceeds_time:0,append_window_end_fudge_factor:0,audio_request_pipeline_max_concurrent_requests:1,audio_request_pipeline_soothing_factor:1,audio_video_buffer_diff_threshold:14400,autoplay_start_video_interval:200,back_off_buffering_overflow_max:5,back_off_buffering_overflow_time_factor:2,back_off_buffering_overflow_time_window:2e3,bandwidth_downgrade_target:.9,bandwidth_penalty_decay_per_video:1,bandwidth_standard_deviation_penalty_factor:.1,buffer_downgrade_threshold:10,buffer_replacement_ahead_threshold:15,buffer_replacement_behind_threshold:5,buffer_target:-1,buffer_target_overflow_upgrade_aggressiveness:1,buffer_target_underflow_upgrade_aggressiveness:1,buffer_velocity_time_in_past_to_consider:0,buffering_count_threshold:5,buffering_spinner_delay_ms:0,buffering_underflow_threshold:.05,clear_buffer_on_constraint_change_offset:5,clear_buffer_on_constraint_change_paused_offset:5,clear_buffer_on_seek_back_delta:0,decouple_stream_on_update_loop_from_request_loop_int:0,fast_moving_average_half_life:3,frame_drop_penalty_factor:0,frame_drop_penalty_minimum_frame_count:0,global_scheduler_priority_downgrade_bufferahead_threshold:0,global_scheduler_priority_threshold:6,hvq_inline_upgrade_aggressiveness:1,hvq_upgrade_aggressiveness:1,initial_stream_buffer_size_for_blocked_autoplay:5.9335983320607,initial_stream_buffer_size_for_video_stream:0,jump_to_live_threshold:.5,live_bandwidth_downgrade_target:1,live_bitrate_estimates_half_life:1,live_bitrate_estimates_large_sample_weight_factor:10,live_bitrate_estimates_minimum_sample_count:1,live_buffering_underflow_threshold:.5,live_data_fetch_max_retries:0,live_dynamic_stream_buffer_size:12,live_hvq_inline_upgrade_aggressiveness:1,live_hvq_upgrade_aggressiveness:1,live_interruption_consecutive_updates_with_change:3,live_interruption_consecutive_updates_without_change:5,live_max_manifest_fetches_with_push:1,live_max_segments_to_push:1,live_playhead_idle_all_stream_threshold:4,live_playhead_idle_single_stream_threshold:5,live_pre_hvq_inline_upgrade_aggressiveness:1,live_pre_hvq_upgrade_aggressiveness:1,live_predictive_abr_down_buffer:5e3,live_predictive_abr_floor_swich_lanes:-2,live_predictive_abr_floor_ttfb_ratio:5,live_predictive_abr_ttfb_ratio:1.8,live_predictive_abr_up_buffer:9e3,live_predictive_abr_up_retry_interval:3e4,live_rewind_templated_last_x_segments_only:0,live_source_buffer_clear_max_retries:0,live_stream_end_slack:.5,live_stream_end_timeout:6e4,living_room_play_x_milliseconds_before_seek:0,living_room_playhead_catchup_interval:0,local_bitrate_segments_ahead:10,logging_log_event_limit:1e3,low_buffer_velocity_abr_interval:500,low_buffer_velocity_abr_interval_buffer_threshold:10,low_buffer_velocity_threshold:0,low_pri_task_min_bytes_to_yield:0,low_pri_task_yield_check_interval:0,low_pri_task_yields_per_task:0,max_bandwidth_update_interval:0,max_network_interrupted_time_before_seek:1e4,max_prefetch_request_num:0,max_prefetch_videos_num:2,max_recent_bandwidth_samples:25,maximum_bandwidth_bitrate_ratio:1.5,maximum_mos_to_decrease:3,min_mpd_refresh_interval:1e3,min_sample_count:1e4,minimum_sample_count_to_use_deviation_penalty:2,minimum_sample_count_to_use_new_estimator:0,minimum_samples_to_use_neural_estimate:1,minimum_weight_to_trust_local_bandwidth_estimate:.5,multiple_videos_queue_penalty_start_count:2,neural_estimate_weight:0,new_estimator_half_life:5,new_estimator_standard_deviation_exclusion_factor:2,pending_seek_while_playing_delay:2e3,pending_seek_while_playing_offset_from_livehead:4e3,playhead_fragmented_gap_diff_allowance:.1,pre_hvq_inline_upgrade_aggressiveness:1,pre_hvq_upgrade_aggressiveness:1,priority_precision:1,recursive_native_settimeout_delay:-1,recursive_ric_timeout:17,request_bounded_animation_frame_bound:50,request_pipeline_max_concurrent_requests:2,request_pipeline_soothing_factor:2,request_pipeline_timeout_ms:0,resolution_constraint_max_height:0,resolution_constraint_max_width:0,ric_autoplay_bound:50,rl_bandwidth_scale:1e6,rl_bitrate_reward:1,rl_buffer_scale:10,rl_max_number_of_bitrates:10,rl_model_id:0,rl_playback_scale:2e5,rl_request_timeout:1e3,rl_stall_count_penalty:30,rl_stall_time_penalty:0,rl_watch_time_reward:0,scheduled_videos_start_stream_buffer_size_threshold:0,scheduler_priority_update_interval:1e3,settimeout_polling_delay:17,shaka_default_ajax_request_timeout_ms:0,shaka_default_request_timeout_timescale:1e3,skip_manifest_gap_boundary_precision_ms:1e3,slow_moving_average_half_life:10,stream_maximum_onpause_buffer_size_multiplier:0,stream_onupdate_sampling:0,streaming_append_per_segment:3,templated_adjust_stream_limits_start_offset:0,templated_adjust_stream_limits_start_offset_int:10,templated_chunked_segment_update_limit_int:10,templated_ingest_throttle:0,templated_jump_to_live_sidx_end_offset:0,templated_quarantine_idle_references_threshold:0,templated_use_perf_test_segment_index_base_int:0,video_dash_prefetch_cache_retention_duration_ms:5e3};b={block_play_request_http_status_list:"410",defer_which_video_to_abort_loading_decisioning_logic:"live",feature_param:"",live_abr_audio_push_representation:"live-md-a",live_abr_initial_push_representation:"live-md-v",rl_smc_tier:"repomen_1",segment_update_helper_splice_path_entity_key:"",templated_perf_test_methods_under_test_csv_string:"all"};c={numbers:a,strings:b};f["default"]=c}),66);
__d("VideoPlayerMainThreadAvailability",["ShakaConstants","Visibility","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=window.__fbNativeSetTimeout,i=a.__fbNativeClearTimeout,j=window.requestIdleCallback,k=window.cancelIdleCallback,l=function(a,b){var c=function c(){a(c,b)};return c};b=function(){function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var b=a.prototype;b.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};b.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?c("performanceNow")()-Number(this.$2):null};b.$8=function(){this.$2=c("Visibility").isHidden()?null:c("performanceNow")()};b.$9=function(){this.$2=null,typeof this.$4==="number"&&(k(this.$4),this.$4=null),typeof this.$3==="number"&&(i(this.$3),this.$3=null)};b.$7=function(){this.$10()};b.$6=function(){var a=this;c("Visibility").addListener(c("Visibility").VISIBLE,function(){a.$9(),a.$7()});c("Visibility").addListener(c("Visibility").HIDDEN,function(){a.$9()})};b.$10=function(){var a=this,b=c("ShakaConstants").numbers.settimeout_polling_delay;if(b>-1){var d=function c(){a.$8(),a.$3=h(c,b)};h(d,b)}};b.$5=function(){return c("Visibility").isSupported()&&typeof j==="function"&&typeof k==="function"&&typeof h==="function"&&typeof i==="function"};b.maybeEnablePerformanceTest=function(){var a,b=c("ShakaConstants").numbers.recursive_ric_timeout;b>-1&&({timeout:b});b=c("ShakaConstants").numbers.recursive_native_settimeout_delay;b>-1&&typeof h==="function"&&(a=l(h,b));a&&a()};return a}();d=new b();g["default"]=d}),98);
__d("VideoPlayerDashPerformanceLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1962341");c=b("FalcoLoggerInternal").create("video_player_dash_performance_logger_event",a);e.exports=c}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccessToken=function(a){this.$1.access_token=a;return this};c.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};c.setAppendTarget=function(a){this.$1.append_target=a;return this};c.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};c.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};c.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};c.setClientTimeDuration=function(a){this.$1.client_time_duration=a;return this};c.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};c.setCode=function(a){this.$1.code=a;return this};c.setConcluder=function(a){this.$1.concluder=a;return this};c.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};c.setContentLengthHeader=function(a){this.$1.content_length_header=a;return this};c.setDevicePixelRatioFloat=function(a){this.$1.device_pixel_ratio_float=a;return this};c.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};c.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};c.setEdgeHitHeader=function(a){this.$1.edge_hit_header=a;return this};c.setEnded=function(a){this.$1.ended=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExpectedLength=function(a){this.$1.expected_length=a;return this};c.setFblsToPlyDisMs=function(a){this.$1.fbls_to_ply_dis_ms=a;return this};c.setInitiator=function(a){this.$1.initiator=a;return this};c.setIsDrm=function(a){this.$1.is_drm=a;return this};c.setIsLive=function(a){this.$1.is_live=a;return this};c.setIsMuted=function(a){this.$1.is_muted=a;return this};c.setIsOnline=function(a){this.$1.is_online=a;return this};c.setIsP2pPlayback=function(a){this.$1.is_p2p_playback=a;return this};c.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};c.setIsRingBufferSample=function(a){this.$1.is_ring_buffer_sample=a;return this};c.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};c.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};c.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};c.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};c.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};c.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};c.setLength=function(a){this.$1.length=a;return this};c.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};c.setLiveheadSeqNumHeader=function(a){this.$1.livehead_seq_num_header=a;return this};c.setLiveheadSeqNumMpd=function(a){this.$1.livehead_seq_num_mpd=a;return this};c.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};c.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};c.setManifestType=function(a){this.$1.manifest_type=a;return this};c.setMediastreamEventCount=function(a){this.$1.mediastream_event_count=a;return this};c.setOneObserved=function(a){this.$1.one_observed=a;return this};c.setOneReqWave=function(a){this.$1.one_req_wave=a;return this};c.setOneResWave=function(a){this.$1.one_res_wave=a;return this};c.setOriginHitHeader=function(a){this.$1.origin_hit_header=a;return this};c.setParentID=function(a){this.$1.parent_id=a;return this};c.setPlaybackRate=function(a){this.$1.playback_rate=a;return this};c.setPlayerHeight=function(a){this.$1.player_height=a;return this};c.setPlayerInstanceCount=function(a){this.$1.player_instance_count=a;return this};c.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};c.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};c.setPlayerVersion=function(a){this.$1.player_version=a;return this};c.setPlayerWidth=function(a){this.$1.player_width=a;return this};c.setPlayhead=function(a){this.$1.playhead=a;return this};c.setPreloadTime=function(a){this.$1.preload_time=a;return this};c.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};c.setPriorityFloat=function(a){this.$1.priority_float=a;return this};c.setProxyStatusHeader=function(a){this.$1.proxy_status_header=a;return this};c.setPushed=function(a){this.$1.pushed=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setRepresentationID=function(a){this.$1.representation_id=a;return this};c.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};c.setResource=function(a){this.$1.resource=a;return this};c.setResponseTimeMsHeader=function(a){this.$1.response_time_ms_header=a;return this};c.setResult=function(a){this.$1.result=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSegmentCount=function(a){this.$1.segment_count=a;return this};c.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};c.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};c.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};c.setSequentialID=function(a){this.$1.sequential_id=a;return this};c.setSession=function(a){this.$1.session=a;return this};c.setState=function(a){this.$1.state=a;return this};c.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};c.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};c.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};c.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};c.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};c.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};c.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};c.setTotalFrames=function(a){this.$1.total_frames=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setUpdatePeriod=function(a){this.$1.update_period=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};c.setWasDelayed=function(a){this.$1.was_delayed=a;return this};return a}();c={access_token:!0,additional_buffered_ranges:!0,append_target:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_duration:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,content_length_header:!0,device_pixel_ratio_float:!0,dropped_frames:!0,dynamic_bitrate:!0,edge_hit_header:!0,ended:!0,error:!0,event:!0,expected_length:!0,fbls_to_ply_dis_ms:!0,initiator:!0,is_drm:!0,is_live:!0,is_muted:!0,is_online:!0,is_p2p_playback:!0,is_page_visible:!0,is_ring_buffer_sample:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,livehead_seq_num_header:!0,livehead_seq_num_mpd:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,mediastream_event_count:!0,one_observed:!0,one_req_wave:!0,one_res_wave:!0,origin_hit_header:!0,parent_id:!0,playback_rate:!0,player_height:!0,player_instance_count:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,player_width:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,proxy_status_header:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,response_time_ms_header:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0};e.exports=a}),null);
__d("dashPerformanceTypedLoggerPayloadToFalcoPayload",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(typeof a==="number"&&isFinite(a))return String(a);else if(typeof a==="string")return a;return null}function a(a){a=a.getData();return{access_token:a.access_token,additional_buffered_ranges:a.additional_buffered_ranges,appended_buffer_ms:g(a.appended_buffer_ms),bandwidth_estimate:g(a.bandwidth_estimate),client_time_begin:g(a.client_time_begin),client_time_duration:g(a.client_time_duration),client_time_end:g(a.client_time_end),code:g(a.code),concluder:a.concluder,connection_quality_level:a.connection_quality_level,content_length_header:g(a.content_length_header),device_pixel_ratio_float:a.device_pixel_ratio_float,dropped_frames:g(a.dropped_frames),dynamic_bitrate:g(a.dynamic_bitrate),edge_hit_header:a.edge_hit_header,ended:a.ended,error:a.error,event:a.event,expected_length:g(a.expected_length),fbls_to_ply_dis_ms:g(a.fbls_to_ply_dis_ms),initiator:a.initiator,is_drm:a.is_drm,is_live:a.is_live,is_muted:a.is_muted,is_page_visible:a.is_page_visible,is_servable_via_fbms:a.is_servable_via_fbms,is_templated_manifest:a.is_templated_manifest,last_buffered_end:g(a.last_buffered_end),last_buffered_start:g(a.last_buffered_start),last_buffering_event_end_time:g(a.last_buffering_event_end_time),last_playing_event_time:g(a.last_playing_event_time),length:g(a.length),livehead_delta:g(a.livehead_delta),livehead_seq_num_header:g(a.livehead_seq_num_header),livehead_seq_num_mpd:g(a.livehead_seq_num_mpd),logical_cpu_count:g(a.logical_cpu_count),lowest_quality_representation_id:g(a.lowest_quality_representation_id),manifest_type:a.manifest_type,mediastream_event_count:g(a.mediastream_event_count),origin_hit_header:a.origin_hit_header,parent_id:g(a.parent_id),player_height:g(a.player_height),player_instance_count:g(a.player_instance_count),player_origin_caller_specified:a.player_origin_caller_specified,player_suborigin:a.player_suborigin,player_version:a.player_version,player_width:g(a.player_width),playhead:g(a.playhead),preload_time:g(a.preload_time),previous_representation_id:a.previous_representation_id,priority_float:a.priority_float,pushed:g(a.pushed),reason:a.reason,representation_id:a.representation_id,reschedule_count:g(a.reschedule_count),resource:a.resource,response_time_ms_header:g(a.response_time_ms_header),result:a.result,script_path:a.script_path,segment_count:g(a.segment_count),segment_end_time:g(a.segment_end_time),segment_start_time:g(a.segment_start_time),segment_time_gap:g(a.segment_time_gap),sequential_id:g(a.sequential_id),session:a.session,state:a.state,stream_switch_reason:a.stream_switch_reason,time_between_bytes_max:g(a.time_between_bytes_max),time_since_main_thread_available:g(a.time_since_main_thread_available),time_to_first_byte:g(a.time_to_first_byte),time_to_last_byte:g(a.time_to_last_byte),time_to_request_sent:g(a.time_to_request_sent),time_to_request_start:g(a.time_to_request_start),total_frames:g(a.total_frames),type:a.type,update_period:g(a.update_period),video_duration:g(a.video_duration),video_id:g(a.video_id),video_playback_experience_issue:a.video_playback_experience_issue,was_delayed:a.was_delayed,one_req_wave:g(a.one_req_wave),one_res_wave:g(a.one_res_wave),one_observed:a.one_observed,is_p2p_playback:a.is_p2p_playback,append_target:g(a.append_target),is_ring_buffer_sample:a.is_ring_buffer_sample,is_online:a.is_online,proxy_status_header:a.proxy_status_header,playback_rate:a.playback_rate}}f["default"]=a}),66);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerDashPerformanceLoggerEventFalcoEvent","VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger","clearTimeout","dashPerformanceTypedLoggerPayloadToFalcoPayload","gkx","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function h(a){typeof a==="number"&&(a=Math.floor(a));return a}var i=(a=c("qex")._("2008744"))!=null?a:999,j=(b=c("qex")._("2008745"))!=null?b:12e4,k=[],l=0,m=!1,n=!1,o=null;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.isEnabled=function(){return b.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||b.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};b.disable=function(){m=!1};b.enable=function(){m=!0};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger6=function(a){a=k[a];if(a!=null){var c=new b();c.updateData(a).log()}};b.flushQueuedLogs=function(){l=l>i?0:l;if(!b.isEnabled()){n=!0;b.enable();for(var a=l;a<=i;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger6(a);for(var a=0;a<l;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger6(a);k=[];l=0}n&&(o!=null&&c("clearTimeout")(o),o=c("setTimeout")(function(){o=null,n=!1,b.disable()},j))};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return d("VideoPlayerShakaPerformanceLoggerConfig").isSampled};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return m};var e=b.prototype;e.$ExtendableVideoPlayerShakaPerformanceTypedLogger7=function(){n&&this.setIsRingBufferSample(!0),c("gkx")("1969338")?this.$ExtendableVideoPlayerShakaPerformanceTypedLogger8():a.prototype.log.call(this)};e.log=function(){b.isEnabled()?this.$ExtendableVideoPlayerShakaPerformanceTypedLogger7():c("gkx")("2007884")&&(l=l>i?0:l,k[l++]=this.getData())};e.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=b;return a.prototype.setState.call(this,b)};e.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};e.setType=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3=b;return a.prototype.setType.call(this,b)};e.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3};e.setIsRingBufferSample=function(b){a.prototype.setIsRingBufferSample.call(this,b);return this};e.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=b;a.prototype.setSequentialID.call(this,b);return this};e.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};e.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,h(b));return this};e.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,h(b));return this};e.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,h(b));return this};e.$ExtendableVideoPlayerShakaPerformanceTypedLogger8=function(){var a=this;c("VideoPlayerDashPerformanceLoggerEventFalcoEvent").log(function(){return c("dashPerformanceTypedLoggerPayloadToFalcoPayload")(a)})};return b}(c("VideoPlayerShakaPerformanceTypedLogger"));g["default"]=e}),98);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","gkx","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=9e4,i=200;c("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();var j=!1;a=function(a){babelHelpers.inheritsLoose(b,a);b.forceShouldSample=function(){j=!0,c("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable()};b.shouldInitialize=function(){return j||d("VideoPlayerShakaPerformanceLoggerConfig").isSampled||c("gkx")("2007884")};b.flushQueuedLogs=function(){c("ExtendableVideoPlayerShakaPerformanceTypedLogger").flushQueuedLogs()};b.setVideoPlaybackExperienceIssue=function(a){b.$VideoPlayerShakaPerformanceLogger26=a};function b(c){var d,e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger12=!1;e.$VideoPlayerShakaPerformanceLogger22=0;e.$VideoPlayerShakaPerformanceLogger23=0;e.$VideoPlayerShakaPerformanceLogger21=c;e.$VideoPlayerShakaPerformanceLogger2=c.videoID;e.$VideoPlayerShakaPerformanceLogger4=c.video;e.$VideoPlayerShakaPerformanceLogger1=c.uniqueID;e.$VideoPlayerShakaPerformanceLogger3=0;e.$VideoPlayerShakaPerformanceLogger10=c.isLive;e.$VideoPlayerShakaPerformanceLogger11=c.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger8=null;e.$VideoPlayerShakaPerformanceLogger13=c.accessToken;e.$VideoPlayerShakaPerformanceLogger14=c.playerOrigin;e.$VideoPlayerShakaPerformanceLogger15=c.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger16=c.playerVersion;e.$VideoPlayerShakaPerformanceLogger24=c.getBandwidthEstimate;e.$VideoPlayerShakaPerformanceLogger25=(d=c.getPlayerDimensions)!=null?d:null;e.setRepresentationID(c.representationId);e.$VideoPlayerShakaPerformanceLogger27=c.isDrm;e.$VideoPlayerShakaPerformanceLogger28={};e.$VideoPlayerShakaPerformanceLogger29=(d=c.playerInstanceCount)!=null?d:null;b.maybeEnableMainThreadAvailabilityLogging();return e}b.maybeEnableMainThreadAvailabilityLogging=function(){d("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&c("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&c("VideoPlayerMainThreadAvailability").enable()};var e=b.prototype;e.$VideoPlayerShakaPerformanceLogger30=function(a){var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};e.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};e.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};e.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};e.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};e.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger12=a};e.getEventLogger=function(a){var e=this,f=Date.now(),g=new(c("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),h=this.$VideoPlayerShakaPerformanceLogger4.currentTime,i=this.$VideoPlayerShakaPerformanceLogger4.duration,j=this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger10),k=this.$VideoPlayerShakaPerformanceLogger21.getApproximateFBLSToPlayerDisplayLatency(),l=this.$VideoPlayerShakaPerformanceLogger25?this.$VideoPlayerShakaPerformanceLogger25():null;this.$VideoPlayerShakaPerformanceLogger30(g).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(d("VideoPlaybackQuality").getDroppedFrames(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(d("VideoPlaybackQuality").getTotalFrames(this.$VideoPlayerShakaPerformanceLogger4)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setPlaybackRate(this.$VideoPlayerShakaPerformanceLogger4.playbackRate).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setPlayhead(Math.round(h*1e3)).setVideoDuration(Math.round(i*1e3)).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(d("ScriptPath").getScriptPath()).setPlayerHeight(l?l.height:null).setPlayerWidth(l?l.width:null).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(j==null?null:Math.round(j)).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setIsLive(this.$VideoPlayerShakaPerformanceLogger10).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger11).setIsPageVisible(!c("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger12).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setLiveheadSeqNumMpd(this.$VideoPlayerShakaPerformanceLogger9).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger13).setVideoPlaybackExperienceIssue(b.$VideoPlayerShakaPerformanceLogger26).setClientTimeBegin(f).setClientTimeDuration(0).setClientTimeEnd(f).setIsDrm(this.$VideoPlayerShakaPerformanceLogger27).setPlayerInstanceCount(this.$VideoPlayerShakaPerformanceLogger29).setFblsToPlyDisMs(k!=null?Math.round(k*1e3):null);var m=this,n=g.setState;g.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?m.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(m.$VideoPlayerShakaPerformanceLogger6=null);m.$VideoPlayerShakaPerformanceLogger5=a;return n.call(this,a)};g.updateState=function(a){return this.getState()==m.$VideoPlayerShakaPerformanceLogger5?this.setState(a):this};var o=g.setError;g.setError=function(a){if(typeof a==="object"&&a!=null)if(a instanceof c("oz-player/utils/OzError"))this.setResult("failed"),this.setCode(a.getExtra().code),o.call(this,a.getType());else{if(a.type==="aborted"||a.type==="delay")this.setResult("aborted");else if(a.type==="paused")this.setResult("paused");else{this.setResult("failed");if(c("gkx")("648"))if(a.type!=null&&a.type!=="")o.call(this,a.type);else{var b=function(a){a=a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b});return a};o.call(this,b(a.name+": "+a.message))}else o.call(this,a.type)}this.setCode(a.status||a.errorRawTransportStatus)}else o.call(this,a);return this};var p=g.setManifestType;g.setManifestType=function(a){e.$VideoPlayerShakaPerformanceLogger17=a;return p.call(g,a)};return g};e.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};e.createOperationLogger=function(a){var b=this,d=this.getEventLogger(a),e=d.setResource;d.setResource=function(a){return e.call(d,a)};var f=d.log,g=this,i=!1,j=null;d.log=function(){if(i)return;c("clearTimeout")(j);var b=Date.now();this.setClientTimeEnd(b);var d=c("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);g.$VideoPlayerShakaPerformanceLogger31(d);g.$VideoPlayerShakaPerformanceLogger22=b;a==="buffering"&&(g.$VideoPlayerShakaPerformanceLogger7=Date.now());i=!0;d=this.getType();d&&(g.$VideoPlayerShakaPerformanceLogger28[d+a]=(g.$VideoPlayerShakaPerformanceLogger28[d+a]||0)+1,this.setMediastreamEventCount(g.$VideoPlayerShakaPerformanceLogger28[d+a]));return f.call(this)};d.start=function(){c("clearTimeout")(j);j=null;j=c("setTimeoutAcrossTransitions")(function(){c("clearTimeout")(j),j=null,d.setResult("timeout"),d.log()},h);return d};d.setWasPrefetchCacheHit=function(a){return d};d.setLiveheadPosition=function(a){b.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(b.getLiveheadDelta());return d};var k=d.setLiveheadSeqNumMpd;d.setLiveheadSeqNumMpd=function(a){b.$VideoPlayerShakaPerformanceLogger9=a;return k.call(d,a)};var l=d.setIsTemplatedManifest;d.setIsTemplatedManifest=function(a){var c;b.$VideoPlayerShakaPerformanceLogger12=(c=a)!=null?c:!1;return l.call(d,a)};var m=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;b.setDynamicBitrate(a);return m.call(d,a)};var n=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){b.$VideoPlayerShakaPerformanceLogger18=a;return n.call(d,a)};return d};e.$VideoPlayerShakaPerformanceLogger31=function(a){if(a==null||i===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<i||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}var b=this.$VideoPlayerShakaPerformanceLogger22,c=Math.round(b-this.$VideoPlayerShakaPerformanceLogger23);this.getEventLogger("main_thread_blocked").setClientTimeBegin(c).setClientTimeDuration(b-c).setClientTimeEnd(b).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};e.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger26=null;g["default"]=a}),98);